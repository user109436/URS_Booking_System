<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Table</title>
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/utilities.css" />
    <link rel="stylesheet" href="./assets/css/queries.css" />
  </head>
  <body onload="readData()">
    
    <!-- temporary side bar -->
    <div class="sidebar ">
      <button class=" action-btn edit" onclick="window.location.href='table.html'">Registrar</button>
      <button class=" action-btn edit" onclick="window.location.href='office_table.html'">Office</button>
      <button class=" action-btn edit" onclick="window.location.href='service_table.html'">Service</button>
      <button class=" action-btn edit" onclick="window.location.href='role_table.html'">Role</button>
      <button class=" action-btn edit" onclick="window.location.href='request_table.html'">Request</button>
      <button class=" action-btn edit" onclick="window.location.href='user_table.html'">user</button>
    </div>

    <!--User's Table-->
    <h1 class=" font-lg color-primary text-center u-m-y-m">
      User's Table
     </h1>
     <div class="container overflow-auto ">
       <table class="container-90 card" id="table">
        <thead> 
        <div class="search-table flex flex-justify-center container-90">
           <input
             class="form-input"
             type="text"
             name="search-table"
             value=""
             placeholder="Search Items"
             id="search-table"
           />
         </div>
         
         <div class="container-90">
           <button class="add btn" id="singleOpenBtn"> Create New User</button>
         </div>
 
         <tr class="bg-primary" id="table-header">
           <th>ID</th>
           <th>User Number</th>
           <th>First Name</th>
           <th>Last Name</th>
           <th>Position</th>
           <th>Email</th>
           <!-- password should have a toggle to be visible and not visible -->
           <th>Password</th>  
           <th>Role</th>  
           <th>Verified</th>  
           <th>Status</th>  
           <th>Created At</th>  
           <th>Updated At</th>  
 
          
          
         </tr>
        </thead>
        <tbody></tbody>
         <tr class="multipleOpenBtn">
           <td class="table-id">123456789123</td>
           <td class="table-user-number">09653563201</td>
           <td class="table-first-name">Rhotrix</td>
           <td class="table-last-name">Loreto</td>
           <td  class="table-role">Admin</td>
           <td class="table-email">rhotrix20@yahoo.com</td>
           <td class="password">**********</td>  
           <td  class="table-role">Core</td>  
           <td class="table-verification">Yes</td>  
           <td  class="table-status" >Active</td>  
           <td>June 18, 2022 8:05 AM</td>  
           <td>June 18, 2022 8:05 AM</td>  
   
         </tr>
         <tr class="multipleOpenBtn">
          <td class="table-id">123456789123</td>
          <td class="table-user-number">09653563201</td>
          <td class="table-first-name">trixia</td>
          <td class="table-last-name">Loreto</td>
          <td  class="table-position">Admin</td>
          <td class="table-email">trixia20@yahoo.com</td>
          <td class="password">**********</td>  
          <td  class="table-role">Core</td>  
          <td class="table-verification">Yes</td>  
          <td  class="table-status" >Active</td>  
          <td class="table-date-created">June 18, 2022 8:05 AM</td>  
          <td class="table-date-updated">June 18, 2022 8:05 AM</td>  
  
        </tr>
      </tbody>
       </table>
  
     </div>
  <!--User UPDATE MODAL-->
    
    <div class="modal-update flex overflow-auto modalBox " autocomplete="off" id="multipleModal" style="display: none"  >
      <div class="modal-update-box u-p-sm w-50   ">
         <h1 class="text-center font-lg color-primary text-center u-m-y-m">Update User</h1>

         <form id="formUserUpdate" onsubmit="onFormSubmit()" class="flex flex-col u-p-lg w-full ">
            <label for="ID" class="w-full">ID:</label> 
              <input 
              name="ID" 
              type="number" 
              id="inputId" 
              class="form-input table-id" 
              disabled >

            <label for="userNumber" class="w-full">User Number:</label> 
              <input 
              name="userNumber" 
              type="number" 
              id="inputUserNumber " 
              class="form-input table-user-number" 
              disabled>

            <label for="firstName" class="w-full">First Name:</label> 
              <input 
              name="firstName"
               type="text" 
               id="inputFirstName" 
               class="form-input table-first-name" 
               required>

            <label for="lastName" class="w-full">Last Name:</label> 
              <input 
              name="lastName" 
              type="text" 
              id="inputLastName" 
              class="form-input table-last-name" 
              required>

            <label for="position" class="w-full">Position:</label> 
              <input 
              name="position" 
              type="text" 
              id="inputPosition" 
              class="form-input table-position" 
              required>

            <label for="email" class="w-full">Email:</label> 
              <input
               name="email" 
               type="email" 
               id="inputEmail"
               class="form-input table-email"
               required>

            <label for="password" class="w-full">Password:</label> 
              <input 
              name="password" 
              type="password" 
              id="inputPassword" 
              class="form-input table-email" 
              required>

            <label for="role" class="w-full">Role:</label> 
                <input 
                name="role" 
                type="text" 
                id="inputRole" 
                class="form-input table-role" 
                required>

            <label for="verified" class="w-full">Verified</label> 
              <input 
              name="verified" 
              type="text" 
              id="inputVerified" 
              class="form-input table-verification"
              >

            <label for="status" class="w-full">Status</label> 
              <select name="status" type="text" id="inputStatus" class="form-input">
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
              </select>

            <label for="createdAt" class="w-full" disabled>Created At</label> 
              <input 
              name="createdAt" 
              type="date" 
              id="inputCreated" 
              class="form-input table-date-created" 
              disabled>
             
            <label for="updatedAt" class="w-full">Updated At</label>
              <input 
              name="updatedAt" 
              type="date" 
              id="inputUpdated" 
              class="form-input table-date-updated">
         
          <div class="modal-update-btn crud " >
          
            <button  type="submit" onsubmit="showConsole()" class="action-btn update">
              Update
            </button>
          
            <button class="action-btn cancel" id="multipleCloseBtn"> 
              Cancel
            </button>
          </div>

          </form>
              
      </div>
    </div>

    <!-- Modal Create New User -->
<div class="modal-update flex overflow-auto modalBox " id="singleModal" style="display: none"  >
  <div class="modal-update-box u-p-sm w-50   ">
     <h1 class="text-center font-lg color-primary text-center u-m-y-m">Create New User</h1>

     <form id="formAddUser" autocomplete="off" onsubmit="onFormSubmit(); return false;" class="flex flex-col u-p-lg w-full ">
        <label for="ID" class="w-full">ID:</label> 
          <input 
          name="ID" 
          type="number" 
          id="newInputId"
          class="form-input"
          disabled>

        <label for="userNumber" class="w-full">User Number:</label> 
          <input 
          name="userNumber" 
          type="number" 
          id="newInputUserNumber" 
          class="form-input" 
          disabled>

        <label for="firstName" class="w-full">First Name:</label> 
          <input 
          name="firstName" 
          type="text" 
          id="newInputFirstName" 
          class="form-input" 
          required>

        <label for="lastName" class="w-full">Last Name:</label> 
          <input 
          name="lastName" 
          type="text" 
          id="newInputLastName" 
          class="form-input" 
          required>

        <label for="position" class="w-full">Position:</label> 
          <input 
          name="position" 
          type="text" 
          id="newInputPosition" 
          class="form-input" 
          required>

        <label for="email" class="w-full">Email:</label> 
          <input 
          name="email" 
          type="email" 
          id="newInputEmail" 
          class="form-input" 
          required>

        <label for="password" class="w-full">Password:</label> 
          <input 
          name="password" 
          type="password" 
          id="newInputPassword" 
          class="form-input" 
          required>

        <label for="role" class="w-full">Role:</label>
          <input
           name="role" 
           type="text" 
           id="newInputRole" 
           class="form-input" 
           required>

        <label for="verified" class="w-full">Verified</label> 
          <input 
          name="verified" 
          type="text" 
          id="newInputVerified" 
          class="form-input" 
          required>

          <label for="status" class="w-full">Status</label> 
          <select name="status" type="text" id="inputStatus" class="form-input">
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>

        <label for="createdAt" class="w-full">Created At</label> 
          <input 
          name="createdAt" 
          type="datetime" 
          id="newInputCreated" 
          class="form-input" 
          disabled>

        <label for="updatedAt" class="w-full">Updated At</label> 
          <input 
          name="updatedAt" 
          type="datetime" 
          id="newInputUpdated" 
          class="form-input" 
          disabled>
     
      <div class="modal-update-btn crud " >
      
        <button   type="submit" onsubmit="showConsole()"  class=" action-btn update" id="createBtn">
          Submit
        </button>
      
        <button  class="action-btn cancel" id="singleCloseBtn"> <!--Alert Message -->
          Cancel
        </button>
      </div>

      </form>
          
  </div>
</div>

    <!-- modal Loading Screen -->
    <!-- <div class="loading-screen border-rounded">
        <div class="loading-screen-box">
          <div class="loading">
            <div class="dot">L</div>
            <div class="dot">O</div>
            <div class="dot">A</div>
            <div class="dot">D</div>
            <div class="dot">I</div>
            <div class="dot">N</div>
            <div class="dot">G</div>
            <span class="text">Please Wait...</span>
          </div>
        </div>
      </div> -->

  </body>
  <footer>
    <script src="./assets/js/script.js" type="module"></script>
    <script src="./assets/js/table-features.js"></script>
  </footer>
</html>
<script>
  // CRUD = READ
    const tableHeader = ` <th>ID</th>
                          <th>User Number</th>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th>Position</th>
                          <th>Email</th>
                          <th>Password</th>  
                          <th>Role</th>  
                          <th>Verified</th>  
                          <th>Status</th>  
                          <th>Created At</th>  
                          <th>Updated At</th> `

    // console.log(tableHeader);
    function createTableData(array) {
        
        for (let i = 0; i < array.length; i++) {
            table.innerHTML+=  ` <tr class="multipleOpenBtn">
            <td class="table-id">${array[i].Id}</td>
            <td class="table-user-number">${array[i].UserNumber }</td>
            <td class="table-first-name">${array[i].FirstName  }</td>
            <td class="table-last-name">${array[i].LastName }</td>
             <td class="table-position">${array[i].Position }</td>
            <td class="table-email">${array[i].Email  }</td>
            <td class="password">${array[i].Password  }</td>
            <td class="table-role">${array[i].Role }</td>
            <td class="table-verification">${array[i].Verified   }</td>
            <td  class="table-status" >${array[i].Active }</td>
            <td class="table-date-created">${array[i].CreatedAt }</td>
            <td class="table-date-updated">${array[i].UpdatedAt }</td>
            </tr>`
            
          }
      }

      // fetch('https://jsonplaceholder.typicode.com/todos/') // ajax
      // .then(response => response.json())
      // .then(todos =>  {
      //   createTableData(todos);
      // })

      function readData(){
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://jsonplaceholder.typicode.com/todos/', true);
        xhr.onload = function(){
          if(this.status == 200){
          var users = this.responseText;
          
            var output = '';
            output += ` <tr class="multipleOpenBtn">
            <td class="table-id">${users[i].Id}</td>
            <td class="table-user-number">${users[i].UserNumber }</td>
            <td class="table-first-name">${users[i].FirstName  }</td>
            <td class="table-last-name">${users[i].LastName }</td>
             <td class="table-position">${users[i].Position }</td>
            <td class="table-email">${users[i].Email  }</td>
            <td class="password">${users[i].Password  }</td>
            <td class="table-role">${users[i].Role }</td>
            <td class="table-verification">${users[i].Verified   }</td>
            <td  class="table-status" >${users[i].Active }</td>
            <td class="table-date-created">${users[i].CreatedAt }</td>
            <td class="table-date-updated">${users[i].UpdatedAt }</td>
            </tr>`

        }

        }
        xhr.send();
      }

      


</script>